{# Blog list template #}

{% extends "blog.html" %}

{% block blog_content %}

    <!-- blog list -->
    {% if page.subpages %}
        <div id='blog-list'>
            {% for entry in page.subpages|sort(attribute='meta.datetime', reverse=True) %}
                <div class='blog-item'>
                    <a href='{{ entry.meta.url }}'>
                        <h1 class='title'>
                            {{ entry.meta.title }}
                        </h1>
                    </a>

                    <div class='subtitle'>
                        By {{ entry.meta.author }}|
                        {{ entry.meta.datetime }}

                        {% if entry.meta.tags %}
                            | Tags: 
                            {% for tag in entry.meta.tags %}
                                {% if loop.length == 1 %}
                                    {{ tag }}
                                {% else %}{% if not loop.last %}
                                    {{ tag }},
                                {% else %}
                                    and {{ tag }}
                                {% endif %}{% endif %}
                            {% endfor %}
                        {% endif %}
                    </div>

                    <div class='content'>
                        {{ entry.meta.content }}
                    </div>
                </div>
            {% endfor %}
        </div>
    {% else %}
        <p> No blog entries to display. </p>
    {% endif %}

{% endblock %}
